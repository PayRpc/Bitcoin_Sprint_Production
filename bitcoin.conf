# ─────────────── Bitcoin Core Config for Sprint ───────────────

# === RPC Interface (Sprint will use this) ===
server=1
# Use rpcauth instead of rpcpassword to avoid parsing issues with special characters
# Generated using: gen-rpcauth.bat sprint MyStrongPassw0rd123!
rpcauth=sprint:wfvHJIrAqjj82ruW$0e266d3e61c9389801115ff5cf9f0839d641ba10db9062aaca9983aeec8cdafa
rpcbind=0.0.0.0                  # Bind to all interfaces for Docker
rpcallowip=0.0.0.0/0               # Allow all RPC clients (for Docker network)
rpcthreads=4
rpctimeout=30

# === ZeroMQ for Sprint (block/tx detection) ===
# Block notifications (required)
zmqpubhashblock=tcp://0.0.0.0:28332
# Optional: Transaction notifications
zmqpubhashtx=tcp://0.0.0.0:28333
# Raw block/tx data publishing for real-time streaming
zmqpubrawblock=tcp://0.0.0.0:28332
zmqpubrawtx=tcp://0.0.0.0:28333

# === Blockchain Storage ===
# Pruning saves disk space (~2 GB recent blocks only)
prune=2000
# If you need full history & txindex, comment prune=2000 and enable txindex=1
txindex=0

# === Networking ===
listen=1
discover=1
bind=0.0.0.0:8333                  # Accept P2P peers
port=8333
maxconnections=64                  # Cap peer count (increase for SaaS backbone)
maxuploadtarget=5000               # MB/day upload cap (remove for backbone nodes)

# === Performance (tune for hardware) ===
dbcache=2000                       # 2 GB cache (use 8k–16k if server has RAM)
par=2                              # Parallel script validation (set to cores/2)
# daemon=1                           # Run in background (Linux/macOS only)

# === Logging ===
debug=rpc
debug=net
#debug=zmq
#logips=1
#logtimestamps=1
